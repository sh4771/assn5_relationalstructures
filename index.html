<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Social Media Influence Network</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    <style>
        body {
            margin: 0;
            padding: 20px;
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .header h1 {
            color: #2c3e50;
            font-size: 2.5em;
            margin: 0;
            font-weight: 300;
            letter-spacing: -1px;
        }
        
        .header p {
            color: #7f8c8d;
            font-size: 1.2em;
            margin: 10px 0;
            font-weight: 300;
        }
        
        #graph-container {
            width: 100%;
            height: 600px;
            border: 2px solid #ecf0f1;
            border-radius: 15px;
            overflow: hidden;
            background: #ffffff;
            position: relative;
        }
        
        .controls {
            margin-top: 20px;
            text-align: center;
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .control-btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            background: #3498db;
            color: white;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        
        .control-btn:hover {
            background: #2980b9;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        
        .tooltip {
            position: absolute;
            background: rgba(44, 62, 80, 0.95);
            color: white;
            padding: 12px 16px;
            border-radius: 8px;
            font-size: 13px;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s ease;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            backdrop-filter: blur(10px);
            max-width: 250px;
            line-height: 1.4;
        }
        
        .legend {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.95);
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            font-size: 12px;
            line-height: 1.6;
            backdrop-filter: blur(10px);
        }
        
        .legend-title {
            font-weight: 600;
            margin-bottom: 8px;
            color: #2c3e50;
            font-size: 14px;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            margin-bottom: 5px;
        }
        
        .legend-color {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .info-panel {
            margin-top: 30px;
            padding: 25px;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border-radius: 15px;
            border-left: 5px solid #3498db;
        }
        
        .info-panel h3 {
            color: #2c3e50;
            margin-top: 0;
            font-size: 1.3em;
        }
        
        .info-panel p {
            color: #5a6c7d;
            line-height: 1.6;
            margin-bottom: 15px;
        }
        
        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .feature {
            background: rgba(255, 255, 255, 0.8);
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .feature strong {
            color: #2c3e50;
        }
        
        @media (max-width: 768px) {
            .container {
                margin: 10px;
                padding: 20px;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            #graph-container {
                height: 400px;
            }
            
            .legend {
                position: relative;
                top: auto;
                right: auto;
                margin-top: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Social Media Influence Network</h1>
            <p>Interactive visualization of influencer relationships and content collaboration</p>
        </div>
        
        <div id="graph-container"></div>
        
        <div class="legend">
            <div class="legend-title">Node Types</div>
            <div class="legend-item">
                <div class="legend-color" style="background: #e74c3c;"></div>
                <span>Mega Influencer (1M+ followers)</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #f39c12;"></div>
                <span>Macro Influencer (100K-1M)</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #27ae60;"></div>
                <span>Micro Influencer (10K-100K)</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #3498db;"></div>
                <span>Brand Account</span>
            </div>
        </div>
        
        <div class="controls">
            <button class="control-btn" onclick="resetSimulation()">Reset Layout</button>
            <button class="control-btn" onclick="toggleDirections()">Toggle Arrows</button>
            <button class="control-btn" onclick="filterByPlatform('instagram')">Instagram Only</button>
            <button class="control-btn" onclick="filterByPlatform('youtube')">YouTube Only</button>
            <button class="control-btn" onclick="showAllNodes()">Show All</button>
        </div>
        
        <div class="info-panel">
            <h3>About This Visualization</h3>
            <p>This interactive network shows relationships between social media influencers, brands, and content creators. Each node represents an account, and edges show collaborations, sponsorships, or content partnerships.</p>
            
            <div class="features">
                <div class="feature">
                    <strong>Drag Nodes:</strong> Click and drag any node to reposition it in the network
                </div>
                <div class="feature">
                    <strong>Hover Details:</strong> Mouse over nodes to see detailed information
                </div>
                <div class="feature">
                    <strong>Zoom & Pan:</strong> Use mouse wheel to zoom, drag background to pan
                </div>
                <div class="feature">
                    <strong>Filter Views:</strong> Use controls to filter by platform or reset the layout
                </div>
            </div>
            
            <h3>Application in Digital Marketing & Social Analytics</h3>
            <p>This relational structure visualization could be used in my interests in digital marketing and social media analytics to:</p>
            <ul>
                <li><strong>Influence Mapping:</strong> Identify key influencers and their network connections for targeted marketing campaigns</li>
                <li><strong>Collaboration Analysis:</strong> Discover existing partnerships and find opportunities for new brand collaborations</li>
                <li><strong>Trend Propagation:</strong> Track how content and trends spread through influencer networks</li>
                <li><strong>Community Detection:</strong> Find clusters of related creators for niche marketing strategies</li>
                <li><strong>Brand Positioning:</strong> Visualize brand presence within influencer ecosystems</li>
            </ul>
        </div>
    </div>

    <script>
        // Synthetic social media influencer network data
        const nodes = [
            // Mega Influencers
            { id: 'sarah_lifestyle', name: 'Sarah Chen', type: 'mega_influencer', platform: 'instagram', followers: 2500000, engagement_rate: 3.2, niche: 'Lifestyle', size: 45, color: '#e74c3c' },
            { id: 'tech_mark', name: 'Mark Rodriguez', type: 'mega_influencer', platform: 'youtube', followers: 1800000, engagement_rate: 5.8, niche: 'Technology', size: 42, color: '#e74c3c' },
            
            // Macro Influencers
            { id: 'fitness_emma', name: 'Emma Johnson', type: 'macro_influencer', platform: 'instagram', followers: 450000, engagement_rate: 4.1, niche: 'Fitness', size: 35, color: '#f39c12' },
            { id: 'food_alex', name: 'Alex Kim', type: 'macro_influencer', platform: 'youtube', followers: 680000, engagement_rate: 6.2, niche: 'Food', size: 38, color: '#f39c12' },
            { id: 'travel_maya', name: 'Maya Patel', type: 'macro_influencer', platform: 'instagram', followers: 320000, engagement_rate: 5.5, niche: 'Travel', size: 33, color: '#f39c12' },
            
            // Micro Influencers
            { id: 'beauty_lisa', name: 'Lisa Wong', type: 'micro_influencer', platform: 'instagram', followers: 85000, engagement_rate: 7.3, niche: 'Beauty', size: 28, color: '#27ae60' },
            { id: 'gaming_tom', name: 'Tom Smith', type: 'micro_influencer', platform: 'youtube', followers: 95000, engagement_rate: 8.1, niche: 'Gaming', size: 29, color: '#27ae60' },
            { id: 'fashion_zoe', name: 'Zoe Davis', type: 'micro_influencer', platform: 'instagram', followers: 76000, engagement_rate: 6.8, niche: 'Fashion', size: 27, color: '#27ae60' },
            { id: 'music_jay', name: 'Jay Wilson', type: 'micro_influencer', platform: 'youtube', followers: 62000, engagement_rate: 9.2, niche: 'Music', size: 26, color: '#27ae60' },
            
            // Brand Accounts
            { id: 'nike_official', name: 'Nike', type: 'brand', platform: 'instagram', followers: 50000000, engagement_rate: 1.8, niche: 'Sports', size: 40, color: '#3498db' },
            { id: 'samsung_tech', name: 'Samsung', type: 'brand', platform: 'youtube', followers: 15000000, engagement_rate: 2.1, niche: 'Technology', size: 37, color: '#3498db' },
            { id: 'sephora_beauty', name: 'Sephora', type: 'brand', platform: 'instagram', followers: 18000000, engagement_rate: 2.5, niche: 'Beauty', size: 38, color: '#3498db' }
        ];

        const links = [
            // Sponsorship deals
            { source: 'nike_official', target: 'fitness_emma', relationship: 'sponsorship', campaign: 'Nike Training', strength: 0.9, type: 'directed', value: 50000 },
            { source: 'samsung_tech', target: 'tech_mark', relationship: 'sponsorship', campaign: 'Galaxy Launch', strength: 0.8, type: 'directed', value: 75000 },
            { source: 'sephora_beauty', target: 'beauty_lisa', relationship: 'sponsorship', campaign: 'Holiday Collection', strength: 0.7, type: 'directed', value: 25000 },
            
            // Collaborations
            { source: 'sarah_lifestyle', target: 'fashion_zoe', relationship: 'collaboration', campaign: 'Style Challenge', strength: 0.6, type: 'bidirectional', value: 0 },
            { source: 'food_alex', target: 'travel_maya', relationship: 'collaboration', campaign: 'Food Tourism', strength: 0.8, type: 'bidirectional', value: 0 },
            { source: 'tech_mark', target: 'gaming_tom', relationship: 'collaboration', campaign: 'Tech Reviews', strength: 0.7, type: 'bidirectional', value: 0 },
            
            // Mentorship
            { source: 'sarah_lifestyle', target: 'beauty_lisa', relationship: 'mentorship', campaign: '', strength: 0.5, type: 'directed', value: 0 },
            { source: 'tech_mark', target: 'gaming_tom', relationship: 'mentorship', campaign: '', strength: 0.6, type: 'directed', value: 0 },
            
            // Cross-promotion
            { source: 'fitness_emma', target: 'travel_maya', relationship: 'cross-promotion', campaign: 'Active Travel', strength: 0.4, type: 'bidirectional', value: 0 },
            { source: 'music_jay', target: 'fashion_zoe', relationship: 'cross-promotion', campaign: 'Music Video Styling', strength: 0.5, type: 'bidirectional', value: 0 },
            
            // Brand partnerships
            { source: 'nike_official', target: 'travel_maya', relationship: 'partnership', campaign: 'Adventure Gear', strength: 0.6, type: 'directed', value: 30000 },
            { source: 'sephora_beauty', target: 'fashion_zoe', relationship: 'partnership', campaign: 'Makeup Tutorials', strength: 0.5, type: 'directed', value: 15000 }
        ];

        // Set up the visualization
        const width = 1140;
        const height = 600;
        
        const svg = d3.select('#graph-container')
            .append('svg')
            .attr('width', width)
            .attr('height', height);
        
        // Add zoom and pan functionality
        const g = svg.append('g');
        
        const zoom = d3.zoom()
            .scaleExtent([0.3, 3])
            .on('zoom', (event) => {
                g.attr('transform', event.transform);
            });
        
        svg.call(zoom);
        
        // Create arrow markers for directed edges
        const defs = svg.append('defs');
        
        ['sponsorship', 'mentorship', 'partnership'].forEach(type => {
            defs.append('marker')
                .attr('id', `arrow-${type}`)
                .attr('viewBox', '-0 -5 10 10')
                .attr('refX', 35)
                .attr('refY', 0)
                .attr('orient', 'auto')
                .attr('markerWidth', 6)
                .attr('markerHeight', 6)
                .append('path')
                .attr('d', 'M 0,-4 L 8,0 L 0,4')
                .attr('fill', '#666')
                .attr('stroke', 'none');
        });
        
        // Force simulation
        const simulation = d3.forceSimulation(nodes)
            .force('link', d3.forceLink(links)
                .id(d => d.id)
                .distance(d => {
                    const distances = {
                        'sponsorship': 120,
                        'collaboration': 80,
                        'mentorship': 100,
                        'cross-promotion': 90,
                        'partnership': 110
                    };
                    return distances[d.relationship] || 100;
                }))
            .force('charge', d3.forceManyBody()
                .strength(d => {
                    const strength = {
                        'mega_influencer': -800,
                        'macro_influencer': -600,
                        'micro_influencer': -400,
                        'brand': -900
                    };
                    return strength[d.type] || -500;
                }))
            .force('center', d3.forceCenter(width / 2, height / 2))
            .force('collision', d3.forceCollide().radius(d => d.size + 10));
        
        // Create links
        const link = g.append('g')
            .attr('class', 'links')
            .selectAll('line')
            .data(links)
            .enter().append('line')
            .attr('stroke', d => {
                const colors = {
                    'sponsorship': '#e67e22',
                    'collaboration': '#9b59b6',
                    'mentorship': '#16a085',
                    'cross-promotion': '#f39c12',
                    'partnership': '#3498db'
                };
                return colors[d.relationship] || '#95a5a6';
            })
            .attr('stroke-width', d => Math.sqrt(d.strength * 8))
            .attr('stroke-opacity', 0.8)
            .attr('marker-end', d => {
                if (d.type === 'directed') {
                    return `url(#arrow-${d.relationship})`;
                }
                return null;
            });
        
        // Create nodes
        const node = g.append('g')
            .attr('class', 'nodes')
            .selectAll('circle')
            .data(nodes)
            .enter().append('circle')
            .attr('r', d => d.size)
            .attr('fill', d => d.color)
            .attr('stroke', '#ffffff')
            .attr('stroke-width', 3)
            .style('filter', 'drop-shadow(2px 2px 4px rgba(0,0,0,0.3))')
            .call(d3.drag()
                .on('start', dragstarted)
                .on('drag', dragged)
                .on('end', dragended));
        
        // Create labels
        const label = g.append('g')
            .attr('class', 'labels')
            .selectAll('text')
            .data(nodes)
            .enter().append('text')
            .attr('text-anchor', 'middle')
            .attr('dy', '.35em')
            .attr('font-size', d => Math.min(d.size / 2.5, 14))
            .attr('font-weight', '600')
            .attr('fill', '#ffffff')
            .attr('stroke', 'rgba(0,0,0,0.3)')
            .attr('stroke-width', 0.5)
            .text(d => d.name.split(' ')[0]);
        
        // Tooltip
        const tooltip = d3.select('body').append('div')
            .attr('class', 'tooltip');
        
        // Node interactions
        node.on('mouseover', function(event, d) {
            d3.select(this)
                .transition()
                .duration(200)
                .attr('r', d.size * 1.2)
                .style('filter', 'drop-shadow(4px 4px 8px rgba(0,0,0,0.5))');
            
            // Highlight connected links
            link.style('stroke-opacity', l => 
                (l.source.id === d.id || l.target.id === d.id) ? 1 : 0.2
            );
            
            // Show tooltip
            tooltip.transition()
                .duration(200)
                .style('opacity', 1);
            
            tooltip.html(`
                <strong>${d.name}</strong><br/>
                Type: ${d.type.replace('_', ' ').replace(/\b\w/g, l => l.toUpperCase())}<br/>
                Platform: ${d.platform}<br/>
                Followers: ${d.followers.toLocaleString()}<br/>
                Engagement: ${d.engagement_rate}%<br/>
                Niche: ${d.niche}
            `)
            .style('left', (event.pageX + 15) + 'px')
            .style('top', (event.pageY - 10) + 'px');
        })
        .on('mouseout', function(event, d) {
            d3.select(this)
                .transition()
                .duration(200)
                .attr('r', d.size)
                .style('filter', 'drop-shadow(2px 2px 4px rgba(0,0,0,0.3))');
            
            link.style('stroke-opacity', 0.8);
            
            tooltip.transition()
                .duration(300)
                .style('opacity', 0);
        })
        .on('click', function(event, d) {
            console.log('Clicked on:', d);
            // Center the node
            const transform = d3.zoomTransform(svg.node());
            const x = transform.invertX(width / 2) - d.x;
            const y = transform.invertY(height / 2) - d.y;
            
            svg.transition()
                .duration(750)
                .call(zoom.translateBy, x, y);
        });
        
        // Update positions on each tick
        simulation.on('tick', () => {
            link
                .attr('x1', d => d.source.x)
                .attr('y1', d => d.source.y)
                .attr('x2', d => d.target.x)
                .attr('y2', d => d.target.y);
            
            node
                .attr('cx', d => d.x)
                .attr('cy', d => d.y);
            
            label
                .attr('x', d => d.x)
                .attr('y', d => d.y);
        });
        
        // Drag functions
        function dragstarted(event, d) {
            if (!event.active) simulation.alphaTarget(0.3).restart();
            d.fx = d.x;
            d.fy = d.y;
        }
        
        function dragged(event, d) {
            d.fx = event.x;
            d.fy = event.y;
        }
        
        function dragended(event, d) {
            if (!event.active) simulation.alphaTarget(0);
            d.fx = null;
            d.fy = null;
        }
        
        // Control functions
        let showArrows = true;
        let currentFilter = 'all';
        
        function resetSimulation() {
            simulation.alpha(1).restart();
        }
        
        function toggleDirections() {
            showArrows = !showArrows;
            link.attr('marker-end', d => {
                if (showArrows && d.type === 'directed') {
                    return `url(#arrow-${d.relationship})`;
                }
                return null;
            });
        }
        
        function filterByPlatform(platform) {
            currentFilter = platform;
            
            node.style('opacity', d => d.platform === platform ? 1 : 0.2);
            label.style('opacity', d => d.platform === platform ? 1 : 0.2);
            link.style('opacity', d => {
                const sourceMatch = nodes.find(n => n.id === d.source.id).platform === platform;
                const targetMatch = nodes.find(n => n.id === d.target.id).platform === platform;
                return (sourceMatch && targetMatch) ? 0.8 : 0.1;
            });
        }
        
        function showAllNodes() {
            currentFilter = 'all';
            node.style('opacity', 1);
            label.style('opacity', 1);
            link.style('opacity', 0.8);
        }
        
        // Initial zoom to fit
        setTimeout(() => {
            const bounds = g.node().getBBox();
            const fullWidth = bounds.width;
            const fullHeight = bounds.height;
            const midX = bounds.x + fullWidth / 2;
            const midY = bounds.y + fullHeight / 2;
            
            const scale = 0.8 / Math.max(fullWidth / width, fullHeight / height);
            const translate = [width / 2 - scale * midX, height / 2 - scale * midY];
            
            svg.transition()
                .duration(1000)
                .call(zoom.transform, d3.zoomIdentity.translate(translate[0], translate[1]).scale(scale));
        }, 1000);
    </script>
</body>
</html>